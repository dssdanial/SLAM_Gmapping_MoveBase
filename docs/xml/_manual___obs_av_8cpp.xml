<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="_manual___obs_av_8cpp" kind="file" language="C++">
    <compoundname>Manual_ObsAv.cpp</compoundname>
    <includes local="yes">ros/ros.h</includes>
    <includes local="yes">geometry_msgs/Twist.h</includes>
    <includes local="yes">sensor_msgs/LaserScan.h</includes>
    <includes local="no">termios.h</includes>
    <incdepgraph>
      <node id="5">
        <label>termios.h</label>
      </node>
      <node id="1">
        <label>src/Manual_ObsAv.cpp</label>
        <link refid="_manual___obs_av_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>geometry_msgs/Twist.h</label>
      </node>
      <node id="2">
        <label>ros/ros.h</label>
      </node>
      <node id="4">
        <label>sensor_msgs/LaserScan.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="_manual___obs_av_8cpp_1adde9f51ddf0fb5c82c57b4075b6e9400" prot="public" static="no" mutable="no">
        <type>ros::Publisher</type>
        <definition>ros::Publisher publisher</definition>
        <argsstring></argsstring>
        <name>publisher</name>
        <briefdescription>
<para>Global publisher. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="17" column="16" bodyfile="src/Manual_ObsAv.cpp" bodystart="17" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_manual___obs_av_8cpp_1accacf4e9263030d70ed79f8516c0eac5" prot="public" static="no" mutable="no">
        <type>double</type>
        <definition>double velocity</definition>
        <argsstring></argsstring>
        <name>velocity</name>
        <initializer>= 0.2</initializer>
        <briefdescription>
<para>Global variable for linear velocity. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="19" column="8" bodyfile="src/Manual_ObsAv.cpp" bodystart="19" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_manual___obs_av_8cpp_1ad0f8b5cad9317f1389ce5ab84b9a8b28" prot="public" static="no" mutable="no">
        <type>double</type>
        <definition>double turn_velocity</definition>
        <argsstring></argsstring>
        <name>turn_velocity</name>
        <initializer>= 0.5</initializer>
        <briefdescription>
<para>Global variable for turn velocity. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="20" column="8" bodyfile="src/Manual_ObsAv.cpp" bodystart="20" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int linear</definition>
        <argsstring></argsstring>
        <name>linear</name>
        <initializer>= 0</initializer>
        <briefdescription>
<para>Global variable for linear direction. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="22" column="5" bodyfile="src/Manual_ObsAv.cpp" bodystart="22" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int angular</definition>
        <argsstring></argsstring>
        <name>angular</name>
        <initializer>= 0</initializer>
        <briefdescription>
<para>Global variable for angular direction. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="23" column="5" bodyfile="src/Manual_ObsAv.cpp" bodystart="23" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_manual___obs_av_8cpp_1aa78c78a33ff8aacecd1105f94444acd3" prot="public" static="no" mutable="no">
        <type>double</type>
        <definition>double th</definition>
        <argsstring></argsstring>
        <name>th</name>
        <initializer>= 1</initializer>
        <briefdescription>
<para>Global threshold for wall distance. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="25" column="8" bodyfile="src/Manual_ObsAv.cpp" bodystart="25" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_manual___obs_av_8cpp_1af113e9b4ca3af68972dfd3df47898c83" prot="public" static="no" mutable="no">
        <type>geometry_msgs::Twist</type>
        <definition>geometry_msgs::Twist vel</definition>
        <argsstring></argsstring>
        <name>vel</name>
        <briefdescription>
<para>Global overall velocity. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="27" column="22" bodyfile="src/Manual_ObsAv.cpp" bodystart="27" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="_manual___obs_av_8cpp_1af5978fab9fa6dd4ced1c3a8ab1251f7b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int getch</definition>
        <argsstring>(void)</argsstring>
        <name>getch</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Get non-blocking keyboard input. </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>The input character from the keyboard.</para>
</simplesect>
This function is used to avoid pressing Enter after giving an input from the keyboard, as part of teleop_twist_keyboard.cpp. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="35" column="5" bodyfile="src/Manual_ObsAv.cpp" bodystart="35" bodyend="57"/>
      </memberdef>
      <memberdef kind="function" id="_manual___obs_av_8cpp_1a8a98eed12f7274738a5ee23ee3ae47fc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>float</type>
        <definition>float Distance</definition>
        <argsstring>(float obs_dist[], int val_min, int val_max)</argsstring>
        <name>Distance</name>
        <param>
          <type>float</type>
          <declname>obs_dist</declname>
          <array>[]</array>
        </param>
        <param>
          <type>int</type>
          <declname>val_min</declname>
        </param>
        <param>
          <type>int</type>
          <declname>val_max</declname>
        </param>
        <briefdescription>
<para>Find the minimum value in a fixed range of an array. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>obs_dist[]</parametername>
</parameternamelist>
<parameterdescription>
<para>The array. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>val_min</parametername>
</parameternamelist>
<parameterdescription>
<para>The index from which to start the search. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>val_max</parametername>
</parameternamelist>
<parameterdescription>
<para>The index at which to stop the search. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The minimum value in the range.</para>
</simplesect>
This function compares the elements of the selected range and returns the minimum value. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="68" column="7" bodyfile="src/Manual_ObsAv.cpp" bodystart="68" bodyend="81"/>
      </memberdef>
      <memberdef kind="function" id="_manual___obs_av_8cpp_1ac49fafbc5f138914847f7d2e562ce406" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void check_walls</definition>
        <argsstring>(const sensor_msgs::LaserScan::ConstPtr &amp;msg)</argsstring>
        <name>check_walls</name>
        <param>
          <type>const sensor_msgs::LaserScan::ConstPtr &amp;</type>
          <declname>msg</declname>
        </param>
        <briefdescription>
<para>Check the closest obstacle and decide what to do. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>msg</parametername>
</parameternamelist>
<parameterdescription>
<para>Contains the variables provided by the robot laser.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
This function checks where the closest obstacle is (front, left, or right of the robot). Based on the position of the closest obstacle, it modifies the velocity of the robot accordingly. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="91" column="6" bodyfile="src/Manual_ObsAv.cpp" bodystart="91" bodyend="122"/>
      </memberdef>
      <memberdef kind="function" id="_manual___obs_av_8cpp_1a4227105bb03c672faac7dea0c3a781e9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void choose_input</definition>
        <argsstring>(char input)</argsstring>
        <name>choose_input</name>
        <param>
          <type>char</type>
          <declname>input</declname>
        </param>
        <briefdescription>
<para>Associate the input from the keyboard with the correct command. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>input</parametername>
</parameternamelist>
<parameterdescription>
<para>The input value to associate with the correct command.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
This function modifies the velocity and turn velocity based on the input value. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="131" column="6" bodyfile="src/Manual_ObsAv.cpp" bodystart="131" bodyend="242"/>
      </memberdef>
      <memberdef kind="function" id="_manual___obs_av_8cpp_1a7f7d866eccdabe51bb16818a792618b1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void get_input</definition>
        <argsstring>()</argsstring>
        <name>get_input</name>
        <briefdescription>
<para>Display the menu and compute the velocity based on the input taken from the keyboard. </para>
        </briefdescription>
        <detaileddescription>
<para>This function displays the menu with the available commands for modifying the direction and velocity. It calls the choose_input function to compute the new velocity based on the user&apos;s input and assigns the computed velocity to the vel variable. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="250" column="6" bodyfile="src/Manual_ObsAv.cpp" bodystart="250" bodyend="267"/>
      </memberdef>
      <memberdef kind="function" id="_manual___obs_av_8cpp_1a3c04138a5bfe5d72780bb7e82a18e627" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int main</definition>
        <argsstring>(int argc, char **argv)</argsstring>
        <name>main</name>
        <param>
          <type>int</type>
          <declname>argc</declname>
        </param>
        <param>
          <type>char **</type>
          <declname>argv</declname>
        </param>
        <briefdescription>
<para>The main function. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>argc</parametername>
</parameternamelist>
<parameterdescription>
<para>An integer argument count of the command line arguments. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>argv</parametername>
</parameternamelist>
<parameterdescription>
<para>An argument vector of the command line arguments. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>An integer 0 upon success.</para>
</simplesect>
The main function initializes the ROS node, subscribes to /scan topic, and publishes to /cmd_vel topic. It enters a while loop to continuously get user input for controlling the robot. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/Manual_ObsAv.cpp" line="278" column="5" bodyfile="src/Manual_ObsAv.cpp" bodystart="278" bodyend="294"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Subscribes to /scan to detect obstacles and publishes to /cmd_vel to control the robot&apos;s velocity. </para>
    </briefdescription>
    <detaileddescription>
<para>This node allows the user to drive the robot in the environment using the keyboard, while providing automatic obstacle avoidance. It reuses part of the code from the KeyboardDrive node for driving functionality. <simplesect kind="author"><para>Danial Sabzevari (<ulink url="mailto:s5217544@studenti.unige.it">s5217544@studenti.unige.it</ulink>) </para>
</simplesect>
<simplesect kind="version"><para>1.0 </para>
</simplesect>
<simplesect kind="date"><para>01/06/2023 </para>
</simplesect>
</para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="12"><highlight class="preprocessor">#include<sp/>&quot;ros/ros.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;geometry_msgs/Twist.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;sensor_msgs/LaserScan.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;termios.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal">ros::Publisher<sp/><ref refid="_manual___obs_av_8cpp_1adde9f51ddf0fb5c82c57b4075b6e9400" kindref="member">publisher</ref>;<sp/></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="_manual___obs_av_8cpp_1accacf4e9263030d70ed79f8516c0eac5" kindref="member">velocity</ref><sp/>=<sp/>0.2;<sp/></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="_manual___obs_av_8cpp_1ad0f8b5cad9317f1389ce5ab84b9a8b28" kindref="member">turn_velocity</ref><sp/>=<sp/>0.5;<sp/></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref><sp/>=<sp/>0;<sp/></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>=<sp/>0;<sp/></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="_manual___obs_av_8cpp_1aa78c78a33ff8aacecd1105f94444acd3" kindref="member">th</ref><sp/>=<sp/>1;<sp/></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal">geometry_msgs::Twist<sp/><ref refid="_manual___obs_av_8cpp_1af113e9b4ca3af68972dfd3df47898c83" kindref="member">vel</ref>;<sp/></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="_manual___obs_av_8cpp_1af5978fab9fa6dd4ced1c3a8ab1251f7b" kindref="member">getch</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="36"><highlight class="normal">{</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ch;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">termios<sp/>oldt;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">termios<sp/>newt;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>tcgetattr(STDIN_FILENO,<sp/>&amp;oldt);</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/>newt<sp/>=<sp/>oldt;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>newt.c_lflag<sp/>&amp;=<sp/>~(ICANON<sp/>|<sp/>ECHO);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>newt.c_iflag<sp/>|=<sp/>IGNBRK;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>newt.c_iflag<sp/>&amp;=<sp/>~(INLCR<sp/>|<sp/>ICRNL<sp/>|<sp/>IXON<sp/>|<sp/>IXOFF);</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>newt.c_lflag<sp/>&amp;=<sp/>~(ICANON<sp/>|<sp/>ECHO<sp/>|<sp/>ECHOK<sp/>|<sp/>ECHOE<sp/>|<sp/>ECHONL<sp/>|<sp/>ISIG<sp/>|<sp/>IEXTEN);</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>newt.c_cc[VMIN]<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>newt.c_cc[VTIME]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>tcsetattr(fileno(stdin),<sp/>TCSANOW,<sp/>&amp;newt);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>ch<sp/>=<sp/>getchar();</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>tcsetattr(STDIN_FILENO,<sp/>TCSANOW,<sp/>&amp;oldt);</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ch;</highlight></codeline>
<codeline lineno="57"><highlight class="normal">}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="_manual___obs_av_8cpp_1a8a98eed12f7274738a5ee23ee3ae47fc" kindref="member">Distance</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>obs_dist[],<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>val_min,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>val_max)</highlight></codeline>
<codeline lineno="69"><highlight class="normal">{</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dist_min<sp/>=<sp/>30.0;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>val_min;<sp/>i<sp/>&lt;=<sp/>val_max;<sp/>i++)</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(obs_dist[i]<sp/>&lt;=<sp/>dist_min)</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dist_min<sp/>=<sp/>obs_dist[i];</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>dist_min;</highlight></codeline>
<codeline lineno="81"><highlight class="normal">}</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_manual___obs_av_8cpp_1ac49fafbc5f138914847f7d2e562ce406" kindref="member">check_walls</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>sensor_msgs::LaserScan::ConstPtr<sp/>&amp;msg)</highlight></codeline>
<codeline lineno="92"><highlight class="normal">{</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dist_min_right,<sp/>dist_min_left,<sp/>dist_min_front;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>scanner[721];</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>722;<sp/>i++)</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scanner[i]<sp/>=<sp/>msg-&gt;ranges[i];</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/>dist_min_right<sp/>=<sp/><ref refid="_manual___obs_av_8cpp_1a8a98eed12f7274738a5ee23ee3ae47fc" kindref="member">Distance</ref>(scanner,<sp/>0,<sp/>159);</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>dist_min_left<sp/>=<sp/><ref refid="_manual___obs_av_8cpp_1a8a98eed12f7274738a5ee23ee3ae47fc" kindref="member">Distance</ref>(scanner,<sp/>561,<sp/>720);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>dist_min_front<sp/>=<sp/><ref refid="_manual___obs_av_8cpp_1a8a98eed12f7274738a5ee23ee3ae47fc" kindref="member">Distance</ref>(scanner,<sp/>281,<sp/>440);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((dist_min_front<sp/>&lt;<sp/>th<sp/>&amp;&amp;<sp/>linear<sp/>&gt;<sp/>0)<sp/>||<sp/>((dist_min_left<sp/>&lt;<sp/><ref refid="_manual___obs_av_8cpp_1aa78c78a33ff8aacecd1105f94444acd3" kindref="member">th</ref>)<sp/>&amp;&amp;<sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>&gt;<sp/>0)<sp/>||<sp/>((dist_min_right<sp/>&lt;<sp/><ref refid="_manual___obs_av_8cpp_1aa78c78a33ff8aacecd1105f94444acd3" kindref="member">th</ref>)<sp/>&amp;&amp;<sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>&lt;<sp/>0))</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Wall<sp/>detected!\n&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dist_min_front<sp/>&lt;<sp/>th<sp/>&amp;&amp;<sp/>linear<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((dist_min_left<sp/>&lt;<sp/><ref refid="_manual___obs_av_8cpp_1aa78c78a33ff8aacecd1105f94444acd3" kindref="member">th</ref>)<sp/>&amp;&amp;<sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>&gt;<sp/>0)<sp/>||<sp/>((dist_min_right<sp/>&lt;<sp/><ref refid="_manual___obs_av_8cpp_1aa78c78a33ff8aacecd1105f94444acd3" kindref="member">th</ref>)<sp/>&amp;&amp;<sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>&lt;<sp/>0))</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1af113e9b4ca3af68972dfd3df47898c83" kindref="member">vel</ref>.linear.x<sp/>=<sp/><ref refid="_manual___obs_av_8cpp_1accacf4e9263030d70ed79f8516c0eac5" kindref="member">velocity</ref><sp/>*<sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref>;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1af113e9b4ca3af68972dfd3df47898c83" kindref="member">vel</ref>.angular.z<sp/>=<sp/><ref refid="_manual___obs_av_8cpp_1ad0f8b5cad9317f1389ce5ab84b9a8b28" kindref="member">turn_velocity</ref><sp/>*<sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref>;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1adde9f51ddf0fb5c82c57b4075b6e9400" kindref="member">publisher</ref>.publish(<ref refid="_manual___obs_av_8cpp_1af113e9b4ca3af68972dfd3df47898c83" kindref="member">vel</ref>);</highlight></codeline>
<codeline lineno="122"><highlight class="normal">}</highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_manual___obs_av_8cpp_1a4227105bb03c672faac7dea0c3a781e9" kindref="member">choose_input</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>input)</highlight></codeline>
<codeline lineno="132"><highlight class="normal">{</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(input)</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;A&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;a&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1accacf4e9263030d70ed79f8516c0eac5" kindref="member">velocity</ref><sp/>*=<sp/>1.1;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1ad0f8b5cad9317f1389ce5ab84b9a8b28" kindref="member">turn_velocity</ref><sp/>*=<sp/>1.1;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;D&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;d&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1accacf4e9263030d70ed79f8516c0eac5" kindref="member">velocity</ref><sp/>*=<sp/>0.9;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1ad0f8b5cad9317f1389ce5ab84b9a8b28" kindref="member">turn_velocity</ref><sp/>*=<sp/>0.9;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;W&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;w&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1accacf4e9263030d70ed79f8516c0eac5" kindref="member">velocity</ref><sp/>*=<sp/>1.1;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;S&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;s&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1accacf4e9263030d70ed79f8516c0eac5" kindref="member">velocity</ref><sp/>*=<sp/>0.9;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;Q&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;q&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1ad0f8b5cad9317f1389ce5ab84b9a8b28" kindref="member">turn_velocity</ref><sp/>*=<sp/>1.1;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;C&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;c&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1ad0f8b5cad9317f1389ce5ab84b9a8b28" kindref="member">turn_velocity</ref><sp/>*=<sp/>0.9;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;R&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;r&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1accacf4e9263030d70ed79f8516c0eac5" kindref="member">velocity</ref><sp/>=<sp/>0.5;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1ad0f8b5cad9317f1389ce5ab84b9a8b28" kindref="member">turn_velocity</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;Y&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;y&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;U&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;u&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;I&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;i&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;H&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;h&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;J&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;j&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;K&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;k&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;B&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;b&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;N&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;n&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;M&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;m&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;E&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;e&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1af113e9b4ca3af68972dfd3df47898c83" kindref="member">vel</ref>.angular.z<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1af113e9b4ca3af68972dfd3df47898c83" kindref="member">vel</ref>.linear.x<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1adde9f51ddf0fb5c82c57b4075b6e9400" kindref="member">publisher</ref>.publish(<ref refid="_manual___obs_av_8cpp_1af113e9b4ca3af68972dfd3df47898c83" kindref="member">vel</ref>);</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>system(</highlight><highlight class="stringliteral">&quot;clear&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ros::shutdown();</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(0);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="242"><highlight class="normal">}</highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_manual___obs_av_8cpp_1a7f7d866eccdabe51bb16818a792618b1" kindref="member">get_input</ref>()</highlight></codeline>
<codeline lineno="251"><highlight class="normal">{</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>std::cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Drive<sp/>the<sp/>robot<sp/>in<sp/>the<sp/>environment<sp/>using<sp/>your<sp/>keyboard\n&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/>std::cout<sp/>&lt;&lt;<sp/>R</highlight><highlight class="stringliteral">&quot;(Move<sp/>the<sp/>robot<sp/>using<sp/>these<sp/>commands<sp/>as<sp/>you<sp/>are<sp/>using<sp/>a<sp/>joystick</highlight></codeline>
<codeline lineno="255"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="256"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/><sp/><sp/><sp/>u<sp/><sp/><sp/><sp/>i</highlight></codeline>
<codeline lineno="257"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>h<sp/><sp/><sp/><sp/>j<sp/><sp/><sp/><sp/>k</highlight></codeline>
<codeline lineno="258"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>b<sp/><sp/><sp/><sp/>n<sp/><sp/><sp/><sp/>m</highlight></codeline>
<codeline lineno="259"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="260"><highlight class="stringliteral">Press:</highlight></codeline>
<codeline lineno="261"><highlight class="stringliteral">a<sp/>:<sp/>increase<sp/>angular<sp/>and<sp/>linear<sp/>velocities<sp/>by<sp/>10%</highlight></codeline>
<codeline lineno="262"><highlight class="stringliteral">d<sp/>:<sp/>decrease<sp/>angular<sp/>and<sp/>linear<sp/>velocities<sp/>by<sp/>10%</highlight></codeline>
<codeline lineno="263"><highlight class="stringliteral">r<sp/>:<sp/>reset<sp/>angular<sp/>and<sp/>linear<sp/>velocities<sp/>to<sp/>default<sp/>values</highlight></codeline>
<codeline lineno="264"><highlight class="stringliteral">w<sp/>:<sp/>increase<sp/>linear<sp/>velocity<sp/>by<sp/>10%</highlight></codeline>
<codeline lineno="265"><highlight class="stringliteral">s<sp/>:<sp/>decrease<sp/>linear<sp/>velocity<sp/>by<sp/>10%</highlight></codeline>
<codeline lineno="266"><highlight class="stringliteral">q<sp/>:<sp/>increase<sp/>angular<sp/>velocity<sp/>by<sp/>10%</highlight></codeline>
<codeline lineno="267"><highlight class="stringliteral">c<sp/>:<sp/>decrease<sp/>angular<sp/>velocity<sp/>by<sp/>10%</highlight></codeline>
<codeline lineno="268"><highlight class="stringliteral">press<sp/>e<sp/>to<sp/>quit</highlight></codeline>
<codeline lineno="269"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="270"><highlight class="stringliteral">ALL<sp/>OTHER<sp/>KEYS<sp/>WILL<sp/>STOP<sp/>THE<sp/>ROBOT</highlight></codeline>
<codeline lineno="271"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>)&quot;;</highlight></codeline>
<codeline lineno="272"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="273"><highlight class="stringliteral"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>input;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>input<sp/>=<sp/><ref refid="_manual___obs_av_8cpp_1af5978fab9fa6dd4ced1c3a8ab1251f7b" kindref="member">getch</ref>();</highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a4227105bb03c672faac7dea0c3a781e9" kindref="member">choose_input</ref>(input);</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1af113e9b4ca3af68972dfd3df47898c83" kindref="member">vel</ref>.linear.x<sp/>=<sp/><ref refid="_manual___obs_av_8cpp_1accacf4e9263030d70ed79f8516c0eac5" kindref="member">velocity</ref><sp/>*<sp/><ref refid="_manual___obs_av_8cpp_1a5bcd692957aace1a21bfc205c67ec998" kindref="member">linear</ref>;</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1af113e9b4ca3af68972dfd3df47898c83" kindref="member">vel</ref>.angular.z<sp/>=<sp/><ref refid="_manual___obs_av_8cpp_1ad0f8b5cad9317f1389ce5ab84b9a8b28" kindref="member">turn_velocity</ref><sp/>*<sp/><ref refid="_manual___obs_av_8cpp_1a1ca7e9bd07214a8b29d24ef9b87b5a4f" kindref="member">angular</ref>;</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1adde9f51ddf0fb5c82c57b4075b6e9400" kindref="member">publisher</ref>.publish(<ref refid="_manual___obs_av_8cpp_1af113e9b4ca3af68972dfd3df47898c83" kindref="member">vel</ref>);</highlight></codeline>
<codeline lineno="282"><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>system(</highlight><highlight class="stringliteral">&quot;clear&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="284"><highlight class="normal">}</highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="_manual___obs_av_8cpp_1a3c04138a5bfe5d72780bb7e82a18e627" kindref="member">main</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>argc,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**argv)</highlight></codeline>
<codeline lineno="296"><highlight class="normal">{</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>system(</highlight><highlight class="stringliteral">&quot;clear&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>ros::init(argc,<sp/>argv,<sp/></highlight><highlight class="stringliteral">&quot;Manual_ObsAv&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>ros::NodeHandle<sp/>node_handle;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/>ros::Subscriber<sp/><ref refid="xy__position_8cpp_1a22ff3f8747e9f68ad42bddad8e86e872" kindref="member">subscriber</ref><sp/>=<sp/>node_handle.subscribe(</highlight><highlight class="stringliteral">&quot;/scan&quot;</highlight><highlight class="normal">,<sp/>500,<sp/><ref refid="_manual___obs_av_8cpp_1ac49fafbc5f138914847f7d2e562ce406" kindref="member">check_walls</ref>);</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1adde9f51ddf0fb5c82c57b4075b6e9400" kindref="member">publisher</ref><sp/>=<sp/>node_handle.advertise&lt;geometry_msgs::Twist&gt;(</highlight><highlight class="stringliteral">&quot;/cmd_vel&quot;</highlight><highlight class="normal">,<sp/>1);</highlight></codeline>
<codeline lineno="303"><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>ros::AsyncSpinner<sp/>spinner(4);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>spinner.start();</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_manual___obs_av_8cpp_1a7f7d866eccdabe51bb16818a792618b1" kindref="member">get_input</ref>();</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>spinner.stop();</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="311"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="src/Manual_ObsAv.cpp"/>
  </compounddef>
</doxygen>
