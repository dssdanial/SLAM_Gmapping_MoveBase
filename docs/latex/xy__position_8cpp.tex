\hypertarget{xy__position_8cpp}{}\doxysection{src/xy\+\_\+position.cpp File Reference}
\label{xy__position_8cpp}\index{src/xy\_position.cpp@{src/xy\_position.cpp}}


Navigation node for driving a robot to a specified goal.  


{\ttfamily \#include \char`\"{}ros/ros.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}move\+\_\+base\+\_\+msgs/\+Move\+Base\+Action\+Goal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}actionlib\+\_\+msgs/\+Goal\+Status\+Array.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}actionlib\+\_\+msgs/\+Goal\+I\+D.\+h\char`\"{}}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
Include dependency graph for xy\+\_\+position.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{xy__position_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{xy__position_8cpp_a979c1eec3a680dc9742ca8f3a498bf5f}{get\+\_\+coordinates}} ()
\begin{DoxyCompactList}\small\item\em Get goal coordinates from user. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{xy__position_8cpp_ab859e879694e6127351224cfac874342}{Handler}} (const actionlib\+\_\+msgs\+::\+Goal\+Status\+Array\+::\+Const\+Ptr \&msg)
\begin{DoxyCompactList}\small\item\em Handle the robot\textquotesingle{}s goal status. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{xy__position_8cpp_acfecdcc2c8ebd81159619cb8bd8d180e}{detect\+\_\+input}} ()
\begin{DoxyCompactList}\small\item\em Get user input to determine course of action. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{xy__position_8cpp_ac202af5a188c6fd910fa5a0459f49a68}{delete\+\_\+goal}} (int must\+\_\+continue)
\begin{DoxyCompactList}\small\item\em Delete the current goal. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{xy__position_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em Main function of the program. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{xy__position_8cpp_ae057aae7fbba2a4cef62321020305295}\label{xy__position_8cpp_ae057aae7fbba2a4cef62321020305295}} 
ros\+::\+Publisher \mbox{\hyperlink{xy__position_8cpp_ae057aae7fbba2a4cef62321020305295}{pub\+\_\+goal}}
\begin{DoxyCompactList}\small\item\em Global publisher for the goal position. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{xy__position_8cpp_a33cbe548b1e0f6b08bbe754f53af458c}\label{xy__position_8cpp_a33cbe548b1e0f6b08bbe754f53af458c}} 
ros\+::\+Publisher \mbox{\hyperlink{xy__position_8cpp_a33cbe548b1e0f6b08bbe754f53af458c}{pub\+\_\+cancel}}
\begin{DoxyCompactList}\small\item\em Global publisher to cancel the goal. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{xy__position_8cpp_a22ff3f8747e9f68ad42bddad8e86e872}\label{xy__position_8cpp_a22ff3f8747e9f68ad42bddad8e86e872}} 
ros\+::\+Subscriber \mbox{\hyperlink{xy__position_8cpp_a22ff3f8747e9f68ad42bddad8e86e872}{subscriber}}
\begin{DoxyCompactList}\small\item\em Global subscriber for robot status. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{xy__position_8cpp_ad0da36b2558901e21e7a30f6c227a45e}\label{xy__position_8cpp_ad0da36b2558901e21e7a30f6c227a45e}} 
float {\bfseries x}
\item 
\mbox{\Hypertarget{xy__position_8cpp_aa4f0d3eebc3c443f9be81bf48561a217}\label{xy__position_8cpp_aa4f0d3eebc3c443f9be81bf48561a217}} 
float \mbox{\hyperlink{xy__position_8cpp_aa4f0d3eebc3c443f9be81bf48561a217}{y}}
\begin{DoxyCompactList}\small\item\em Global variables for goal coordinates. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{xy__position_8cpp_a7441ef0865bcb3db9b8064dd7375c1ea}\label{xy__position_8cpp_a7441ef0865bcb3db9b8064dd7375c1ea}} 
int \mbox{\hyperlink{xy__position_8cpp_a7441ef0865bcb3db9b8064dd7375c1ea}{id}}
\begin{DoxyCompactList}\small\item\em Global variable for goal id. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{xy__position_8cpp_a277a26d89f87198b128da14ee46d39a7}\label{xy__position_8cpp_a277a26d89f87198b128da14ee46d39a7}} 
move\+\_\+base\+\_\+msgs\+::\+Move\+Base\+Action\+Goal \mbox{\hyperlink{xy__position_8cpp_a277a26d89f87198b128da14ee46d39a7}{goal}}
\begin{DoxyCompactList}\small\item\em Global variable for overall goal. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{xy__position_8cpp_a910adc6e2561e7bb6644c09a3f851977}\label{xy__position_8cpp_a910adc6e2561e7bb6644c09a3f851977}} 
int \mbox{\hyperlink{xy__position_8cpp_a910adc6e2561e7bb6644c09a3f851977}{flag\+\_\+for\+\_\+goal}}
\begin{DoxyCompactList}\small\item\em Global flag to detect the user input during goal navigation. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Navigation node for driving a robot to a specified goal. 

This file contains the core code for a R\+OS node that drives a robot to a specified goal location. The goal location is provided by the user via the console. This node subscribes to the /move\+\_\+base/status topic to get the status of the robot, and publishes to the /move\+\_\+base/goal and /move\+\_\+base/cancel topics to set and cancel the goal position respectively. \begin{DoxyAuthor}{Author}
Danial Sabzevari (\href{mailto:s5217544@studenti.unige.it}{\texttt{ s5217544@studenti.\+unige.\+it}}) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
01/06/2023 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{xy__position_8cpp_ac202af5a188c6fd910fa5a0459f49a68}\label{xy__position_8cpp_ac202af5a188c6fd910fa5a0459f49a68}} 
\index{xy\_position.cpp@{xy\_position.cpp}!delete\_goal@{delete\_goal}}
\index{delete\_goal@{delete\_goal}!xy\_position.cpp@{xy\_position.cpp}}
\doxysubsubsection{\texorpdfstring{delete\_goal()}{delete\_goal()}}
{\footnotesize\ttfamily void delete\+\_\+goal (\begin{DoxyParamCaption}\item[{int}]{must\+\_\+continue }\end{DoxyParamCaption})}



Delete the current goal. 


\begin{DoxyParams}{Parameters}
{\em must\+\_\+continue} & Determines if navigation should continue after deletion.\\
\hline
\end{DoxyParams}
This function cancels the current goal based on user input and publishes a cancellation message. Depending on the must\+\_\+continue parameter, it either prompts the user to set a new goal, or shuts down the program. \mbox{\Hypertarget{xy__position_8cpp_acfecdcc2c8ebd81159619cb8bd8d180e}\label{xy__position_8cpp_acfecdcc2c8ebd81159619cb8bd8d180e}} 
\index{xy\_position.cpp@{xy\_position.cpp}!detect\_input@{detect\_input}}
\index{detect\_input@{detect\_input}!xy\_position.cpp@{xy\_position.cpp}}
\doxysubsubsection{\texorpdfstring{detect\_input()}{detect\_input()}}
{\footnotesize\ttfamily void detect\+\_\+input (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get user input to determine course of action. 

This function detects user input to determine if the user wants to set a new goal, stop the navigation towards the current goal, or exit the program. It interacts with the \mbox{\hyperlink{xy__position_8cpp_ac202af5a188c6fd910fa5a0459f49a68}{delete\+\_\+goal()}} function as necessary based on user input. \mbox{\Hypertarget{xy__position_8cpp_a979c1eec3a680dc9742ca8f3a498bf5f}\label{xy__position_8cpp_a979c1eec3a680dc9742ca8f3a498bf5f}} 
\index{xy\_position.cpp@{xy\_position.cpp}!get\_coordinates@{get\_coordinates}}
\index{get\_coordinates@{get\_coordinates}!xy\_position.cpp@{xy\_position.cpp}}
\doxysubsubsection{\texorpdfstring{get\_coordinates()}{get\_coordinates()}}
{\footnotesize\ttfamily void get\+\_\+coordinates (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get goal coordinates from user. 

This function prompts the user for the x and y coordinates of the desired goal. It then constructs a goal message with these coordinates and a randomly generated id, and publishes this message. The goal status is tracked throughout the execution. \mbox{\Hypertarget{xy__position_8cpp_ab859e879694e6127351224cfac874342}\label{xy__position_8cpp_ab859e879694e6127351224cfac874342}} 
\index{xy\_position.cpp@{xy\_position.cpp}!Handler@{Handler}}
\index{Handler@{Handler}!xy\_position.cpp@{xy\_position.cpp}}
\doxysubsubsection{\texorpdfstring{Handler()}{Handler()}}
{\footnotesize\ttfamily void Handler (\begin{DoxyParamCaption}\item[{const actionlib\+\_\+msgs\+::\+Goal\+Status\+Array\+::\+Const\+Ptr \&}]{msg }\end{DoxyParamCaption})}



Handle the robot\textquotesingle{}s goal status. 


\begin{DoxyParams}{Parameters}
{\em msg} & Const\+Ptr to Goal\+Status\+Array message.\\
\hline
\end{DoxyParams}
This function handles the status of the goal. It checks if the goal has been reached or not and updates the user accordingly. If the goal is not reached, it prompts the user to set a new goal. \mbox{\Hypertarget{xy__position_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{xy__position_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{xy\_position.cpp@{xy\_position.cpp}!main@{main}}
\index{main@{main}!xy\_position.cpp@{xy\_position.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Main function of the program. 


\begin{DoxyParams}{Parameters}
{\em argc} & An integer argument count of the command line arguments. \\
\hline
{\em argv} & An argument vector of the command line arguments. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An integer 0 upon exit success.
\end{DoxyReturn}
This function initializes the R\+OS node, sets up the necessary publishers and subscribers, and prompts the user to set the first goal. It then spins the node and handles user input and goal statuses as they come in. 